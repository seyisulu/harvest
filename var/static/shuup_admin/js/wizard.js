"use strict";!function(t){t.fn.wizard=function(){function i(){return f.index(p)==f.length-1}function n(t,i,n,e,a){return'<button name="'+i+'"class="btn btn-lg '+e+'" '+(n?"disabled":"")+(a?"data-toggle='tooltip' data-placement='bottom' title='"+a+"'":"")+">"+t+"</button>"}function e(){f.find(".action-bar").remove();var t=!1,e=!1;0===f.index(p)&&(t=!0),i()&&!c.redirectOnLastPane&&(e=!0),p.append('<div class="action-bar"><div class="clearfix">'+n(gettext("Previous"),"previous",t,"btn-primary pull-left "+(c.hidePrevious?"hidden":""))+n(i()?gettext("Finish"):gettext("Next"),"next",e,"btn-primary pull-right")+"</div>"+("True"===p.data("can_skip")||c.skip?'<div class="clearfix">'+n(gettext("Skip"),"skip",!1,"btn-default pull-right",c.skipTooltip)+"</div>":"")+"</div>"),p.find('[data-toggle="tooltip"]').tooltip()}function a(t){u.removeClass("active"),f.removeClass("active"),l=u.eq(t),p=f.eq(t),l.addClass("active"),p.addClass("active"),e()}function r(){a(f.index(p)+1)}function o(){a(f.index(p)-1)}function s(){var i=p.find("form");return clearErrors(i),t.ajax({method:"POST",traditional:!0,data:serializeForm(i)})}var d=this,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],u=this.find(".wizard-nav li"),f=this.find(".wizard-pane"),l=u.find(".active"),p=f.filter(".active"),v={next:r,previous:o,submit:s};return c in v?v[c]():(t.isNumeric(c)?a(c):(this.on("click","button[name='next']",function(){d.find("button[name='next']").prepend('<i class="fa fa-spinner fa-pulse fa-fw"></i>'),c.next?c.next(p):s().done(function(){c.redirectOnLastPane&&i()?window.location=c.redirectOnLastPane:r()}).fail(function(t){d.find("i.fa.fa-spinner").remove(),renderFormErrors(p.find("form"),t.responseJSON)})}),this.on("click","button[name='previous']",function(){d.find("button[name='previous']").prepend('<i class="fa fa-spinner fa-pulse fa-fw"></i>'),c.previous?c.previous(p):o()}),this.on("click","button[name='skip']",function(){c.redirectOnLastPane&&i()?window.location=c.redirectOnLastPane:r()}),a(0)),this)}}(jQuery);
//# sourceMappingURL=wizard.js.map
